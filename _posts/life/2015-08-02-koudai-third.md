---
layout: post
category : life
tags : [life]
---
{% include JB/setup %}


在口袋已经呆了`94608000`秒，因为一直没总结过，今天在和几个同事吹牛皮下下火的时候，发现自己可以总结一下。

###本意

其实我从百度离职后，准备回家放牛的，自己通过网上卖牛肉，因为发现我家那山高皇帝远的地方，特别适合散养牛，并且这种牛肉卖的特别好。

正准备回家之际，炎飞找我，让我去口袋聊聊，创业公司说服人加入都有一标准流程，比如能与大牛共事，氛围和福利，一旦上市有高额回报之类的。

其实真正吸引我的是那方向，因为在百度做的都是后端服务，偏向于web端，从来没做过移动端，感觉这也是一个新方向。

###印象

进来之后，发现确实牛人很多，并且学历都很高，想到学历这事就特别蛋痛，

那时候后端就我和火荣学历和学校最差，我们两个的学校名字都是很有特点的，

长达10多个字，基本上是某某省某某市某某学院之类的,好在他毕业了，我没毕业，

不过没过多久来了一个更加牛B的人，是北大的，但是得往后面加一个青鸟。


其实我读书真是扯蛋，小学被退后，我爸在家教了我一点数学，其实他也只会数学，


弄的我现在还不会拼音，一直说着浓重的新化口音，打字打五笔，最麻烦的是我认识的字也不多，有时候五笔也打不出来。


大学其实是我主动走的，不是被退,因为我发现写码是可以挣钱的。

其实我只是有时候自嘲一下，内心真心没感觉学历和能力成正比，比如火荣和陈建，是我见过运维技术非常不错的两人。



###工作


####ID分配

12年的时候，接手UDC，因为UDC是从别的部门接过来的，炎飞负责重构，我负责写一些基础性的小组件。

比如ID分配器，小小的ID分配器，其实应用场景很多的，比如商品ID，订单ID，用户ID的分配，这些你是绝对不可能去用Mysql 自增ID的，因为会分库分表。

其实我在百度的时候，也写过类似的服务，前端服务是用C去写的，利用Mysql 自增的特性，实现了一ID分配服务，这种小组件，其实很有挑战的，比如前提是要全局去重，

其次能否做到分布式？

在口袋写的比较简单，但是平稳运行了两年多，只出现过一次问题，还是因为Op操作引起，应该是到今年才被升级掉。


####收藏拆分

发现用户的一大爱好就是收藏，接手UDC的时候，所有的收藏都在一个表里面，那时候已经接近亿级别的数据(当时很难相信，一般都是会进行拆分的),

因为我以前就是一个搞拆迁的，所以对拆迁比较感兴趣，把收藏数据单独建库，并且拆表，收藏数据已经稳定运行三年多了，根据当初的规划，以目前的增长速度，再扛个几年是没问题的。

后来发现这些事情越早越好(如果业务增长不错的话)，不然会弄的很被动。


####没见太阳的微信项目

这个项目做了快一个多月，反正没上线，所以也不存在什么项目效果。


####统计分析

13年的时候，接手了数据统计这一活，迈入了一条不归路，刚开始的时候，是在单机上做统计的，把日志copy到单台机器上，然后写写脚本去计算各种指标，再把指标写到数据库，

然后做一展示前台，随着业务的增长，单台服务器是撑不住，搭建了第一个hadoop集群(4台机器)，统计没做多久，因为家庭原因，发生了很多不可控的事情，整个人都开始抑郁了，

休息了差不多一个月，发现抑郁是减肥最快的，不到两周，减了15斤左右，到今天还有很多人问我怎么样恢复过来的，其实我那时候主要是跑步，并且喜欢找一个陌生的路跑，一跑就是好几个小时，

最后累的你一到家就睡，没心思去胡想乱想。

在那一个多月里，读了很多佛教的书，佛教里面其实有很多派别的，我对禅宗比较感兴趣，让人感觉到自己的存在。


####Hadoop调度算法

恢复后的第一件事，就是修改了一下hadoop的调度算法，使期支持并发控制，整整花了两周读hadoop的源代码，包括一个国庆假期，

最后发现这两周读hadoop源代码的经历，收获超多。


####IDATA


